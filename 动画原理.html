<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			div{
				position: absolute;
				left: 0;
				width: 6.25rem;
				height: 100px;
				background-color: pink;
				
			}
			span{
				margin-top: 300px;
				position: absolute;
				left: 0;
				width: 500px;
				height: 500px;
				background-color: purple;
			}
		</style>
	</head>
	<body>
			<button>点击之后才走</button>
			<div></div>
			<span></span>
			<script>
				// 动画函数的封装 2个参数 动画对象obj 移动距离
				// 添加obj.timer可以给不同的元素指定不同的元素
				function animate(obj,target){
					// 解决方案 元素只有一个定时器执行
					clearInterval(obj.timer);
					obj.timer = setInterval(function(){
						if(obj.offsetLeft >= target){
							clearInterval(obj.timer);
						}
						obj.style.left = obj.offsetLeft + 1 + 'px';
					},30);
				}
				var span = document.querySelector('span');
				var btn = document.querySelector('button');
				var div = document.querySelector('div');
				// 调用函数
				// 当我们不断的点击按钮 这个元素的速度会越来越快 因为开启了多个定时器
				// 解决方案 质元素只有一个定时器执行
				animate(div,300);
				btn.addEventListener('click',function(){
					animate(span,500);
				})
			</script>
	</body>
</html>
